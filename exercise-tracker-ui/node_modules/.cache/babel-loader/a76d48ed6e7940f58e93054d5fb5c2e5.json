{"ast":null,"code":"var _jsxFileName = \"/home/sami/dev/osu_portfolio/webDev/assignment7/exercise-tracker/exercise-tracker-ui/src/pages/EditMoviePage.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EditMoviePage = _ref => {\n  _s();\n\n  let {\n    movie\n  } = _ref;\n  const [title, setTitle] = useState(movie.title);\n  const [year, setYear] = useState(movie.year);\n  const [language, setLanguage] = useState(movie.language);\n  const history = useHistory();\n\n  const editMovie = async () => {\n    const response = await fetch(`/movies/${movie._id}`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        title: title,\n        year: year,\n        language: language\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (response.status === 200) {\n      alert(\"Successfully edited document!\");\n    } else {\n      const errMessage = await response.json();\n      alert(`Failed to update document. Status ${response.status}. ${errMessage.Error}`);\n    }\n\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit a movie in the collection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Paragraph about this page.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n        },\n        children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            children: \"Which movie are you adding?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"title\",\n            children: \"Movie title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: title,\n            onChange: e => setTitle(e.target.value),\n            id: \"title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"year\",\n            children: \"Year released\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: year,\n            onChange: e => setYear(e.target.value),\n            id: \"year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"language\",\n            children: \"Language\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: language,\n            onChange: e => setLanguage(e.target.value),\n            id: \"language\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"submit\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: editMovie,\n              id: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }, this), \" updates to the collection\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(EditMoviePage, \"VRtg6IkGP2tmNCEFUuF+X3dVuOk=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditMoviePage;\nexport default EditMoviePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMoviePage\");","map":{"version":3,"names":["React","useHistory","useState","EditMoviePage","movie","title","setTitle","year","setYear","language","setLanguage","history","editMovie","response","fetch","_id","method","body","JSON","stringify","headers","status","alert","errMessage","json","Error","push","e","preventDefault","target","value"],"sources":["/home/sami/dev/osu_portfolio/webDev/assignment7/exercise-tracker/exercise-tracker-ui/src/pages/EditMoviePage.js"],"sourcesContent":["import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState } from 'react';\r\n\r\nexport const EditMoviePage = ({ movie }) => {\r\n \r\n    const [title, setTitle]       = useState(movie.title);\r\n    const [year, setYear]         = useState(movie.year);\r\n    const [language, setLanguage] = useState(movie.language);\r\n    \r\n    const history = useHistory();\r\n\r\n    const editMovie = async () => {\r\n        const response = await fetch(`/movies/${movie._id}`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify({ \r\n                title: title, \r\n                year: year, \r\n                language: language\r\n            }),\r\n            headers: {'Content-Type': 'application/json',},\r\n        });\r\n\r\n        if (response.status === 200) {\r\n            alert(\"Successfully edited document!\");\r\n        } else {\r\n            const errMessage = await response.json();\r\n            alert(`Failed to update document. Status ${response.status}. ${errMessage.Error}`);\r\n        }\r\n        history.push(\"/\");\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <article>\r\n            <h2>Edit a movie in the collection</h2>\r\n            <p>Paragraph about this page.</p>\r\n            <form onSubmit={(e) => { e.preventDefault();}}>\r\n                <fieldset>\r\n                    <legend>Which movie are you adding?</legend>\r\n                    <label for=\"title\">Movie title</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={title}\r\n                        onChange={e => setTitle(e.target.value)} \r\n                        id=\"title\" />\r\n                    \r\n                    <label for=\"year\">Year released</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={year}\r\n                        onChange={e => setYear(e.target.value)} \r\n                        id=\"year\" />\r\n\r\n                    <label for=\"language\">Language</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={language}\r\n                        onChange={e => setLanguage(e.target.value)} \r\n                        id=\"language\" />\r\n\r\n                    <label for=\"submit\">\r\n                    <button\r\n                        onClick={editMovie}\r\n                        id=\"submit\"\r\n                    >Save</button> updates to the collection</label>\r\n                </fieldset>\r\n                </form>\r\n            </article>\r\n        </>\r\n    );\r\n}\r\nexport default EditMoviePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}